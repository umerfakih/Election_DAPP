{"version":3,"sources":["components/Airdrop.js","components/Navbar.js","components/Election.js","App.js","reportWebVitals.js","index.js"],"names":["Airdrop","useEffect","loadweb3","loadBlockchainData","useState","loader","setLoader","CurrentAccount","setCurrentAccount","airdropInstance","setAirdropInstance","window","ethereum","web3","Web3","enable","currentProvider","alert","eth","getAccounts","accounts","account","net","getId","airdrop","Contract","AirdropAbi","abi","AirdropAddress","address","claim","methods","send","from","class","role","className","type","onClick","Navbar","to","Election","inrInstance","setInrInstance","electionInstance","setElectionInstance","Candidate1","setCandidate1","Candidate2","setCandidate2","Canidate","setCandidate","election","ElectionAbi","ElectionAddress","candidates","call","canidate1","canidadte2","inr","INRAbi","INRAddress","voteCandidate","canidateid","approve","options","vote","style","color","width","borderStyle","borderWidth","borderColor","id","name","votecount","onSubmit","e","preventDefault","Number","onChange","target","value","console","log","defaultValue","App","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.02ed2675.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport Web3 from 'web3'\r\nimport AirdropAbi from '../ContractsData/Airdrop.json'\r\nimport AirdropAddress from '../ContractsData/Airdrop-address.json'\r\n\r\nexport default function Airdrop() {\r\n  useEffect(() => {\r\n    loadweb3()\r\n    loadBlockchainData()\r\n  }, [])\r\n\r\n  const [loader, setLoader] = useState(true)\r\n  const [CurrentAccount, setCurrentAccount] = useState('')\r\n  const [airdropInstance, setAirdropInstance] = useState({})\r\n\r\n  const loadweb3 = async () => {\r\n    if (window.ethereum) {\r\n      window.web3 = new Web3(window.ethereum)\r\n      await window.ethereum.enable()\r\n    } else if (window.web3) {\r\n      window.web3 = new Web3(window.web3.currentProvider)\r\n    } else {\r\n      window.alert('no metamask found')\r\n    }\r\n  }\r\n\r\n  const loadBlockchainData = async () => {\r\n    setLoader(true)\r\n    const web3 = window.web3\r\n\r\n    const accounts = await web3.eth.getAccounts()\r\n    const account = accounts[0]\r\n    setCurrentAccount(account)\r\n\r\n    const networkId = await web3.eth.net.getId()\r\n\r\n    if (networkId === 3) {\r\n      const airdrop = new web3.eth.Contract(\r\n        AirdropAbi.abi,\r\n        AirdropAddress.address,\r\n      )\r\n      setAirdropInstance(airdrop)\r\n    \r\n      setLoader(false)\r\n    } else {\r\n      window.alert('the smart contract is not deployed current network')\r\n    }\r\n  }\r\n\r\n  const claim = async () => {\r\n    setLoader(true)\r\n    await airdropInstance.methods\r\n      .claim()\r\n      .send({from:CurrentAccount})\r\n    setLoader(false)\r\n  }\r\n\r\n  if (loader) {\r\n    return <div class=\"d-flex justify-content-center\">\r\n    <div class=\"spinner-border\" role=\"status\">\r\n      <span class=\"visually-hidden\">Loading...</span>\r\n    </div>\r\n  </div>\r\n    \r\n  }\r\n\r\n  return (\r\n    <div className=\"container my-5 \">\r\n      <h1>Claim INR token to commit  vote</h1>\r\n      <div className=\"d-grid gap-2 d-md-flex justify-content-md-center\">\r\n        <button type=\"button\" class=\"btn btn-dark\" onClick={claim}>\r\n          Claim\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Navbar() {\r\n  return (\r\n    <nav className=\"navbar navbar-dark bg-dark shadow mb-5\">\r\n      <Link class=\"navbar-brand\" to=\"/\">ElectionDapp</Link>\r\n      <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n        <li class=\"nav-item\">\r\n          <Link class=\"nav-link text-white\" to=\"/Airdrop\">\r\n            Claim\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport ElectionAbi from '../ContractsData/Voting.json'\r\nimport ElectionAddress from '../ContractsData/Voting-address.json'\r\nimport INRAbi from '../ContractsData/DigitalRupee.json'\r\nimport INRAddress from '../ContractsData/DigitalRupee-address.json'\r\nimport Web3 from 'web3'\r\n\r\nexport default function Election() {\r\n  useEffect(() => {\r\n    loadweb3()\r\n    loadBlockchainData()\r\n  }, [])\r\n\r\n  const [inrInstance,setInrInstance] = useState({})\r\n  const [loader, setLoader] = useState(true)\r\n  const [CurrentAccount, setCurrentAccount] = useState('')\r\n  const [electionInstance, setElectionInstance] = useState({})\r\n  const [Candidate1, setCandidate1] = useState()\r\n  const [Candidate2, setCandidate2] = useState()\r\n  const [Canidate, setCandidate] = useState(\"\");\r\n\r\n  const loadweb3 = async () => {\r\n    if (window.ethereum) {\r\n      window.web3 = new Web3(window.ethereum)\r\n      await window.ethereum.enable()\r\n    } else if (window.web3) {\r\n      window.web3 = new Web3(window.web3.currentProvider)\r\n    } else {\r\n      window.alert('metamask not found')\r\n    }\r\n  }\r\n\r\n  const loadBlockchainData = async () => {\r\n    setLoader(true)\r\n    const web3 = window.web3\r\n\r\n    const accounts = await web3.eth.getAccounts()\r\n\r\n    const account = accounts[0]\r\n\r\n    setCurrentAccount(account)\r\n\r\n    const networkId = await web3.eth.net.getId()\r\n\r\n    if (networkId === 3) {\r\n      const election = new web3.eth.Contract(\r\n        ElectionAbi.abi,\r\n        ElectionAddress.address,\r\n      )\r\n\r\n      const canidate1 = await election.methods.candidates(1).call()\r\n      const canidadte2 = await election.methods.candidates(2).call()\r\n    \r\n      const inr = new web3.eth.Contract(\r\n        INRAbi.abi,\r\n        INRAddress.address,\r\n      )\r\n\r\n      setInrInstance(inr)\r\n\r\n      setCandidate1(canidate1)\r\n      setCandidate2(canidadte2)\r\n      setElectionInstance(election)\r\n      setLoader(false)\r\n    } else {\r\n      window.alert('Please change it to ropsten network')\r\n    }\r\n  }\r\n\r\n  const voteCandidate = async (canidateid) => {\r\n    setLoader(true)\r\n\r\n    let commit = \"1000000000000000000\"\r\n    await inrInstance.methods\r\n    .approve(electionInstance.options.address,commit)\r\n    .send(({from:CurrentAccount}));\r\n\r\n    await electionInstance.methods\r\n      .vote(canidateid)\r\n      .send({from:CurrentAccount})\r\n    setLoader(false)\r\n  }\r\n\r\n  const onchange = (e) => {\r\n    setCandidate(e.target.value);\r\n    console.log(e.target.value);\r\n  };\r\n\r\n  const onsubmit = (e) => {\r\n    e.preventDefault();\r\n    if (Canidate.id !== 0) voteCandidate(Number(Canidate));\r\n    else window.alert(\"there is error in submission\");\r\n  };\r\n\r\n  if (loader) {\r\n    return <div class=\"d-flex justify-content-center\">\r\n        <div class=\"spinner-border\" role=\"status\">\r\n          <span class=\"visually-hidden\">Loading...</span>\r\n        </div>\r\n      </div>\r\n    \r\n  }\r\n\r\n  return (\r\n    <div className=\"mt-4 text-center\" style={{ color: '#000000' }}>\r\n      <h1>First Claim INR TOKEN from Claim page You can see above in the navbar</h1>\r\n      <h2>Without INR TOKEN You Cant commit Vote</h2>\r\n      <h2>Election Results</h2>\r\n      <hr\r\n        style={{\r\n          width: '70%',\r\n          borderStyle: 'solid',\r\n          borderWidth: '2px',\r\n          borderColor: '#000000',\r\n        }}\r\n      />\r\n      <div className=\"p-3 ml-auto mr-auto\" style={{ width: '40%' }}>\r\n        <div className=\"row ml-auto mr-auto  mb-2\" style={{ width: '90%' }}>\r\n          <div className=\"col\">\r\n            <p>#</p>\r\n          </div>\r\n          <div className=\"col\">\r\n            <p>Name</p>\r\n          </div>\r\n          <div className=\"col\">\r\n            <p>Votes</p>\r\n          </div>\r\n        </div>\r\n        <hr\r\n          style={{ width: '90%', borderStyle: 'solid', borderColor: '#000000' }}\r\n        />\r\n        <div\r\n          className=\"row ml-auto mr-auto mt-2  mb-2\"\r\n          style={{ width: '90%' }}\r\n        >\r\n          <div className=\"col\">\r\n            <p>{Candidate1.id}</p>\r\n          </div>\r\n          <div className=\"col\">\r\n            <p>{Candidate1.name}</p>\r\n          </div>\r\n          <div className=\"col\">\r\n            <p>{Candidate1.votecount}</p>\r\n          </div>\r\n        </div>\r\n        <hr\r\n          style={{ width: '90%', borderStyle: 'solid', borderColor: '#000000' }}\r\n        />\r\n        <div\r\n          className=\"row ml-auto mr-auto mt-2  mb-2\"\r\n          style={{ width: '90%' }}\r\n        >\r\n          <div className=\"col\">\r\n            <p>{Candidate2.id}</p>\r\n          </div>\r\n          <div className=\"col\">\r\n            <p>{Candidate2.name}</p>\r\n          </div>\r\n          <div className=\"col\">\r\n            <p>{Candidate2.votecount}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"my-5 mr-auto ml-auto text-left\" style={{ width: '70%' }}>\r\n        <h5>Cast Your Vote:</h5>\r\n        <form onSubmit={onsubmit}>\r\n          <select name=\"candidate\" className=\"form-control\" onChange={onchange}>\r\n            <option defaultValue value=\"\">\r\n              Select\r\n            </option>\r\n            <option value=\"1\">{Candidate1.name}</option>\r\n            <option value=\"2\">{Candidate2.name}</option>\r\n          </select>\r\n          <button className=\"btn btn-primary mt-2 btn-md w-100\">\r\n            Vote Candidate{''} {Canidate}\r\n          </button>\r\n        </form>\r\n      </div>\r\n      <p className=\"my-5\">\r\n        Your address: <span className=\"font-weight-bold\">{CurrentAccount}</span>\r\n      </p>\r\n    </div>\r\n  )\r\n}\r\n","import './App.css'\nimport Airdrop from './components/Airdrop'\nimport Navbar from './components/Navbar'\nimport { Routes, Route } from 'react-router-dom'\nimport Election from './components/Election'\n\nfunction App() {\n  return (\n    <>\n      <Navbar/>\n      <Routes>\n        <Route path=\"/\" element={<Election />} />\n        <Route path=\"/Airdrop\" element={<Airdrop />} />\n      </Routes>\n    </>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport { BrowserRouter } from 'react-router-dom'\n\nconst root = ReactDOM.createRoot(document.getElementById('root'))\nroot.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}